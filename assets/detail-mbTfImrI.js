import{_ as q,i as z,F as O}from"./index-27VBlAEw.js";import{_ as K}from"./trading-link-2fvSttFT.js";import{d as j,r as _,o as U,c as u,a as t,b,t as o,j as n,i as B,F as W,k as G,m as J,u as Q,e as X,M as Y,O as Z,f as tt,h as c,N as st,n as et,_ as ot}from"./index-u7qdeO-v.js";import{B as i}from"./big-sGrFn-QA.js";import{c as lt,f as h,a as y}from"./date_time-IhZCP73v.js";const at={class:"aabot-container bg-home text-white"},nt={class:"aabot-header"},it={class:"aa-sections relative"},rt={key:0,class:"aa-section aa-section-trading relative"},ut={class:"aa-section-scroll-m"},ct={class:"section-titl"},dt={class:"cont pl-6"},_t={class:"trading-detail-cont cont"},ht={class:"trading-detail"},pt={class:""},vt={class:"trading-detail-APR"},mt={class:"flex-shrink-0 b-r h-full"},ft={class:"pl-6 pr-2 py-3 h-20"},gt={class:"t3"},bt={class:"posi-cont"},yt={class:"flex items-center relative"},xt={class:"posi-cont-t2"},kt={class:"posi-cont-t2"},Tt={class:"trading-detail-data b-r h-full"},Dt={class:"mr-8 flex-shrink-0"},wt={class:"t4"},It={class:"t4"},St={class:"flex-shrink-0"},Ct={class:"t4"},Ht={class:"t4"},Bt={class:"flex items-center px-6"},Nt={class:"recommended"},Lt={class:"t2"},At={class:"t2"},Ft={class:"t2"},Mt={class:"flex"},$t=["href"],Pt=["href"],Rt={class:"token-list cont"},Et={key:0},Vt={key:1},qt=["href"],zt={class:"highlight"},N=100,x=30,Ot=j({__name:"detail",setup(Kt){const k=Q(),v=X(),T=_(!0),L=_(!0),A=v.params.groupId,m=v.params.alertId,F=v.params.topicId;console.log(A,m,F);const M=()=>{k.go(-1)},D=_([]),l=_(null);let p=1,f=!0,w=0,I=0,S=[];const C=async()=>{f=!1;let e=await Y(Number(m),{page:p,page_size:x});f=!0,console.log(e),w=e.current_value,e.positions!=null&&(S=e.positions,E()),e.histories!=null&&(e.histories.forEach(s=>{s.top=Number(s.top),s.top_4h=Number(s.top_4h),s.top_change_4h_str=`${i(s.top_change_4h).times(100).toFixed(2)}%`,s.top_change_str=`${i(s.top_change).times(100).toFixed(2)}%`,s.bottom_change_4h_str=`${i(s.bottom_change_4h).times(100).toFixed(2)}%`,s.bottom_change_str=`${i(s.bottom_change).times(100).toFixed(2)}%`,s.bottom=Number(s.bottom),s.bottom_4h=Number(s.bottom_4h)}),D.value.push(...e.histories)),e.total>x&&d==null&&(d=new IntersectionObserver(s=>{s.forEach(g=>{g.isIntersecting&&f&&C()})},{root:null,rootMargin:"10px",threshold:1}),d.observe(document.querySelector(".observe"))),e.total>p*x?p=p+1:(d.disconnect(),d=null)},$=e=>{if(e.status=="win")return"winColor";if(e.status=="lose")return"loseColor"},P=e=>e=="win"?"Take Profit":e=="lose"?"Stop Loss":"Missed",r=_(!1),R=async()=>{let e=await Z(Number(m),{});console.log(e),e!=null&&(e={...e,runtime:lt(Date.now()-new Date(e.first_signal_at).getTime()),buy_amount:i(e.buy_amount).div(10**18),apr:parseInt(i(e.apr).times(100).toString())},l.value=e,e.buy_initial_amount&&(I=Number(i(e.buy_initial_amount).div(10**18))),e.high_frequency?r.value=!0:r.value=!1)};let d=null;U(async()=>{Promise.all([R(),C()]).then(()=>{T.value=!1})});function E(){var e=z(document.getElementById("chart"));e.setOption({tooltip:{show:!1},xAxis:{type:"category",axisLine:{show:!1},axisTick:{show:!1},axisLabel:{show:!1}},yAxis:{type:"value",axisLine:{show:!1},axisTick:{show:!1},axisLabel:{show:!1},splitLine:{show:!1}},series:[{type:"line",smooth:!0,symbol:"none",data:S,lineStyle:{color:"#71F063"}}],grid:{left:5,right:5,top:5,bottom:5}})}function V(){console.log("User cancelled the loader.")}const H=async e=>{k.push({name:"home",query:{scrollTo:e}})};return(e,s)=>{const g=tt("VLoading");return c(),u("div",at,[t("div",nt,[b(st,{onScrollTo:H})]),t("div",it,[s[14]||(s[14]=t("div",{class:"cont absolute left-0 right-0 h-full lg:block hidden"},[t("div",{class:"grid-line left-0"}),t("div",{class:"grid-line right-0"})],-1)),t("div",{class:"aa-section-nav relative"},[t("div",{onClick:M,class:"pl-6 cont h-full flex items-center cursor-pointer"}," <Back to Intent SuperMarket ")]),l.value?(c(),u("div",rt,[t("div",ut,[t("div",ct,[t("div",dt,o(l.value.name),1)]),t("div",_t,[t("div",ht,[t("div",pt,[t("div",vt,[t("div",mt,[t("div",ft,[s[0]||(s[0]=t("div",{class:"t1"},"90D APR",-1)),t("div",gt,o(l.value.apr)+"%",1)]),t("div",bt,[s[4]||(s[4]=t("div",{class:"posi-cont-t1 h-4 mb-2 relative"}," Positions ",-1)),t("div",yt,[t("div",xt,[t("span",null,o(n(I)),1),s[1]||(s[1]=B("ETH "))]),s[3]||(s[3]=t("img",{src:q,class:"mx-1.5",alt:""},null,-1)),t("div",kt,[t("span",null,o(n(w)),1),s[2]||(s[2]=B("ETH "))])])])]),t("div",Tt,[t("div",Dt,[s[5]||(s[5]=t("div",{class:"t1"},"ROI",-1)),t("div",wt,o(n(i)(l.value.roi).times(100))+"%",1),s[6]||(s[6]=t("div",{class:"t1 mt-6"},"#Txns",-1)),t("div",It,o(l.value.transaction),1)]),t("div",St,[s[7]||(s[7]=t("div",{class:"t1"},"Win Rate",-1)),t("div",Ct,o(l.value.signal_win)+"/"+o(l.value.signal_total),1),s[8]||(s[8]=t("div",{class:"t1 mt-6"},"Runtime",-1)),t("div",Ht,o(l.value.runtime),1)])]),t("div",Bt,[s[10]||(s[10]=t("div",{class:"line mr-6",id:"chart"},null,-1)),t("div",Nt,[s[9]||(s[9]=t("div",{class:"t1"},"Recommended Config",-1)),t("div",Lt," Buy Amount: "+o(l.value.buy_amount)+" ETH ",1),t("div",At," Buy Type: Limit/Buy/"+o(l.value.buy_limit_price_change>0?"+":"")+o(n(i)(l.value.buy_limit_price_change).times(100))+"% expired after "+o(l.value.buy_validity),1),t("div",Ft," Take Profit: "+o(n(i)(l.value.take_profit_price_change).times(100))+"% / Stop Loss: "+o(n(i)(l.value.stop_loss_price_change).times(100))+"% ",1),t("div",Mt,[t("a",{target:"_blank",href:`https://t.me/aabot_aabot?start=cts_${l.value.custom_signal_id}_${l.value.ID}_true`,class:"btn aa-btn w-1/2 mr-4"}," Subscribe ",8,$t),t("a",{target:"_blank",href:`https://t.me/aabot_aabot?start=cts_${l.value.custom_signal_id}_${l.value.ID}_false`,class:"btn w-1/2 aa-btn"}," Copy Trade ",8,Pt)])])])])])])]),t("table",Rt,[r.value?(c(),u("tr",Et,s[11]||(s[11]=[t("th",null,"TokenName",-1),t("th",null,"Kline",-1),t("th",null,"BuyTime",-1),t("th",null,"BuyCap",-1),t("th",null,"4H MDDTime",-1),t("th",null,"4H MDD%",-1),t("th",null,"4H ATHTime",-1),t("th",null,"4H ATHCap",-1),t("th",null,"4H ATH%",-1),t("th",null,"Status",-1)]))):(c(),u("tr",Vt,s[12]||(s[12]=[t("th",null,"TokenName",-1),t("th",null,"Kline",-1),t("th",null,"BuyTime",-1),t("th",null,"BuyCap",-1),t("th",null,"7D MDDTime",-1),t("th",null,"7D MDD%",-1),t("th",null,"7D ATHTime",-1),t("th",null,"7D ATHCap",-1),t("th",null,"7D ATH%",-1),t("th",null,"Status",-1)]))),(c(!0),u(W,null,G(D.value,a=>(c(),u("tr",{class:et($(a))},[t("td",null,o(a.token_name),1),t("td",null,[t("a",{target:"_blank",href:`https://www.dextools.io/app/ether/pair-explorer/${a.token_address}`},s[13]||(s[13]=[t("img",{class:"mx-auto",src:K,alt:""},null,-1)]),8,qt)]),t("td",null,o(n(h)(a.signal_time)),1),t("td",null,o(n(y)(a.market_cap)),1),t("td",null,o(r.value?n(h)(a.bottom_at_4h):n(h)(a.bottom_at)),1),t("td",null,o(r.value?a.bottom_change_4h_str:a.bottom_change_str),1),t("td",null,o(r.value?n(h)(a.top_at_4h):n(h)(a.top_at)),1),t("td",null,o(r.value?n(y)(a.top_4h):n(y)(a.top)),1),t("td",zt,o(r.value?a.top_change_4h_str:a.top_change_str),1),t("td",null,o(P(a.status)),1)],2))),256))])])])):J("",!0)]),s[15]||(s[15]=t("div",{class:"observe"},null,-1)),b(O,{onScrollTo:H}),b(g,{active:T.value,color:"#71F063",width:N,height:N,loader:"spinner","background-color":"#000","can-cancel":!0,"on-cancel":V,"is-full-page":L.value},null,8,["active","is-full-page"])])}}}),Qt=ot(Ot,[["__scopeId","data-v-4f834e28"]]);export{Qt as default};
